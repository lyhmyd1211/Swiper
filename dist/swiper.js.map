{"version":3,"sources":["../lib/swiper.jsx"],"names":["Swiper","props","img","concat","time","timer","state","offset","left","console","log","length","delayAnimation","width","document","getElementById","setInterval","setState","transition","setTimeout","clearInterval","map","item","index","Component"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;;;IAEMA,M;;;AACJ,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA,gHACXA,KADW;;AAEjB,UAAKC,GAAL,GAAW,MAAKD,KAAL,CAAWC,GAAX,CAAeC,MAAf,CAAsB,MAAKF,KAAL,CAAWC,GAAX,CAAe,CAAf,CAAtB,KAA0C,EAArD;AACA,UAAKE,IAAL,GAAY,MAAKH,KAAL,CAAWG,IAAX,IAAiB,IAA7B;AACA,UAAKC,KAAL,GAAa,EAAb;AACA,UAAKC,KAAL,GAAa;AACXC,cAAO,EAACC,MAAK,CAAN;AADI,KAAb;AALiB;AAQlB;;;;wCACkB;AACjBC,cAAQC,GAAR,CAAY,KAAZ,EAAkB,KAAKR,GAAvB;AACA,UAAI,KAAKA,GAAL,CAASS,MAAT,GAAgB,CAApB,EAAuB;AACrB,aAAKC,cAAL;AACD;AACF;;;qCACe;AAAA;;AACd,UAAIC,QAAQC,SAASC,cAAT,CAAwB,YAAxB,EAAsCF,KAAlD;AACAJ,cAAQC,GAAR,CAAY,OAAZ,EAAoBG,KAApB;AACA,WAAKR,KAAL,GAAaW,YAAY,YAAM;AAC7B,YAAI,OAAKV,KAAL,CAAWC,MAAX,CAAkBC,IAAlB,GAAyB,CAACK,KAAD,IAAQ,OAAKX,GAAL,CAASS,MAAT,GAAgB,CAAxB,CAA7B,EAAyD;AACvD,iBAAKM,QAAL,CAAc;AACZV,oBAAQ;AACNC,oBAAM,OAAKF,KAAL,CAAWC,MAAX,CAAkBC,IAAlB,GAAyBK,KADzB;AAENK,0BAAY;AAFN;AADI,WAAd;AAMD,SAPD,MAOO;AACL,iBAAKD,QAAL,CACE;AACEV,oBAAQ;AACNC,oBAAM,CADA;AAENU,0BAAY;AAFN;AADV,WADF,EAOE,YAAM;AACJC,uBAAW,YAAM;AACf,qBAAKF,QAAL,CAAc;AACZV,wBAAQ;AACNC,wBAAM,OAAKF,KAAL,CAAWC,MAAX,CAAkBC,IAAlB,GAAyBK,KADzB;AAENK,8BAAY;AAFN;AADI,eAAd;AAMD,aAPD,EAOG,CAPH;AAQD,WAhBH;AAkBD;AAEF,OA7BY,EA6BV,KAAKd,IA7BK,CAAb;AA8BD;;;2CACqB;AACpBgB,oBAAc,KAAKf,KAAnB;AACD;;;6BACQ;AAAA,UACAE,MADA,GACS,KAAKD,KADd,CACAC,MADA;;AAEPE,cAAQC,GAAR,CAAY,QAAZ,EAAqBH,MAArB;AACA,UAAML,MAAM,KAAKA,GAAL,CAASmB,GAAT,CAAa,UAACC,IAAD,EAAMC,KAAN,EAAc;AACrC,eAAO,uCAAK,KAAKA,KAAV,EAAiB,KAAKD,IAAtB,EAA4B,WAAU,YAAtC,EAAmD,IAAG,YAAtD,EAAmE,OAAOf,MAA1E,GAAP;AACD,OAFW,CAAZ;AAGD,aACE;AAAA;AAAA,UAAK,WAAU,YAAf;AACE;AAAA;AAAA,YAAK,WAAU,aAAf;AACGL;AADH;AADF,OADF;AAOA;;;;EAlEkBsB,gB;;kBAoENxB,M","file":"swiper.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './swiper.css';\r\n\r\nclass Swiper extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.img = this.props.img.concat(this.props.img[0])||[];\r\n    this.time = this.props.time||3000;\r\n    this.timer = '';\r\n    this.state = {\r\n      offset:{left:0},\r\n    }\r\n  }\r\n  componentDidMount(){\r\n    console.log('img',this.img);\r\n    if (this.img.length>1) {\r\n      this.delayAnimation();\r\n    }\r\n  }\r\n  delayAnimation(){\r\n    let width = document.getElementById('swiper-img').width\r\n    console.log('width',width);\r\n    this.timer = setInterval(() => {\r\n      if (this.state.offset.left > -width*(this.img.length-1)) {\r\n        this.setState({\r\n          offset: {\r\n            left: this.state.offset.left - width,\r\n            transition: \"left 1s\"\r\n          }\r\n        });\r\n      } else {\r\n        this.setState(\r\n          {\r\n            offset: {\r\n              left: 0,\r\n              transition: \"none\",\r\n            }\r\n          },\r\n          () => {\r\n            setTimeout(() => {\r\n              this.setState({\r\n                offset: {\r\n                  left: this.state.offset.left - width,\r\n                  transition: \"left 1s\"\r\n                }\r\n              });\r\n            }, 0);\r\n          }\r\n        );\r\n      }\r\n      \r\n    }, this.time)\r\n  }\r\n  componentWillUnmount(){\r\n    clearInterval(this.timer);\r\n  }\r\n  render() {\r\n    const {offset}= this.state;\r\n    console.log('offset',offset);\r\n    const img = this.img.map((item,index)=>{\r\n      return <img key={index} src={item} className=\"swiper-img\" id=\"swiper-img\" style={offset} />;\r\n    })\r\n   return(\r\n     <div className=\"swiper-box\">\r\n       <div className=\"swiper-main\">\r\n         {img}\r\n       </div>\r\n     </div>\r\n   )\r\n  }\r\n}\r\nexport default Swiper;\r\n"]}